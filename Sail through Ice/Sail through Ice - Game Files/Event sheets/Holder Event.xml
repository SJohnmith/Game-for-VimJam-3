<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Holder Event</name>
    <events>
        <variable constant="0" name="BlcksUID" sid="241538398133117" static="0" type="number">0</variable>
        <variable constant="0" name="TxtMatch" sid="416949604850443" static="0" type="text"></variable>
        <event-block sid="122370529845518">
            <conditions>
                <condition id="-2" name="On start of layout" sid="587476070698767" type="System" />
            </conditions>
            <actions>
                <action id="1" name="Request project file" sid="305284357048375" type="AJAX">
                    <param id="0" name="Tag">&quot;StgData&quot;</param>
                    <param id="1" name="File">StgData.json</param>
                </action>
                <action id="1" name="Request project file" sid="993521508946261" type="AJAX">
                    <param id="0" name="Tag">&quot;StgRes&quot;</param>
                    <param id="1" name="File">StgRes.json</param>
                </action>
                <action id="1" name="Request project file" sid="719466616069736" type="AJAX">
                    <param id="0" name="Tag">&quot;StgTxt&quot;</param>
                    <param id="1" name="File">StgTxt.json</param>
                </action>
                <action id="-30" name="Set from JSON" sid="754320065809426" type="ActnBtn">
                    <param id="0" name="JSON">&quot;&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="912914211450050" type="System">
                    <param id="0" name="Seconds">0.1</param>
                </action>
                <action id="5" name="Set web font" sid="205743411329420" type="debug">
                    <param id="0" name="Family name">&quot;actnBtn&quot;</param>
                    <param id="1" name="CSS URL">&quot;btnStyle.css&quot;</param>
                </action>
                <action id="0" name="Call function" sid="767079325908112" type="Function">
                    <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                    <param id="1" name="Parameter {n}">&quot;Start&quot;{###}0</param>
                </action>
            </actions>
        </event-block>
        <comment>Load Data Stage Data and Stage Text</comment>
        <event-block sid="279911418607195">
            <conditions>
                <condition id="0" name="On completed" sid="973630683261716" type="AJAX">
                    <param id="0" name="Tag">&quot;StgData&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="11" name="Load" sid="413148408309375" type="AryStgData">
                    <param id="0" name="JSON">AJAX.LastData</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="336870102368462">
                    <conditions>
                        <condition id="-10" name="For" sid="444493510815037" type="System">
                            <param id="0" name="Name">&quot;&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">AryStgData.Height-1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="701754531659477" type="AryStgData">
                            <param id="0" name="Instance variable">yIdx</param>
                            <param id="1" name="Value">AryStgData.yIdx&amp;loopindex&amp;AryStgData.At(0, loopindex)&amp;&quot;,&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="578865562816893">
            <conditions>
                <condition id="0" name="On completed" sid="593911489981912" type="AJAX">
                    <param id="0" name="Tag">&quot;StgRes&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="11" name="Load" sid="427636682884673" type="AryStgRes">
                    <param id="0" name="JSON">AJAX.LastData</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="898847787463415">
                    <conditions>
                        <condition id="-10" name="For" sid="205480848148201" type="System">
                            <param id="0" name="Name">&quot;&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">AryStgRes.Height-1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="398145877898663" type="AryStgRes">
                            <param id="0" name="Instance variable">yIdx</param>
                            <param id="1" name="Value">AryStgRes.yIdx&amp;loopindex&amp;AryStgRes.At(0, loopindex)&amp;&quot;,&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="375027947770690">
            <conditions>
                <condition id="0" name="On completed" sid="335782843778888" type="AJAX">
                    <param id="0" name="Tag">&quot;StgTxt&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Load" sid="601895715775960" type="DxnryRdTxt">
                    <param id="0" name="JSON">AJAX.LastData</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="554354914472310" title="Action Button Interaction">
            <sub-events>
                <event-block sid="632729226493556">
                    <conditions>
                        <condition id="0" name="On clicked" sid="700148469634106" type="ActnBtn" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="227506502141384" type="System">
                            <param id="0" name="Variable">TxtMatch</param>
                            <param id="1" name="Value">RegexMatchAt(ActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block any="1" sid="162841261252902">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="658032297886299" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Play&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="972352985887500" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Leave&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="363579236322855" type="Function">
                                    <param id="0" name="Name">&quot;CloseStg&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="516197881452517">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="764942550743263" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Find Fuel&quot;</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="290199846625850" type="Boat">
                                    <param id="0" name="Instance variable">Supplies</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="628150622199842" type="Function">
                                    <param id="0" name="Name">&quot;CloseStg&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="836260649913131">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="673757082169932" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;New Map&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="800148034207151" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Play Again&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="830286986364152" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Restart&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="587586191219227" type="Function">
                                    <param id="0" name="Name">&quot;CloseStg&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="-26" name="Restart layout" sid="521195296826619" type="System" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>On Action Button Clicked</comment>
                <event-block sid="276528437053759">
                    <conditions>
                        <condition id="0" name="On clicked" sid="670492010937731" type="ActnBtn" />
                        <condition id="-14" name="Pick by unique ID" sid="376946125699423" type="Blcks">
                            <param id="0" name="Unique ID">BlcksUID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="8" name="Set unfocused" sid="305933904501627" type="ActnBtn" />
                        <action id="-9" name="Set value" sid="197139117661088" type="System">
                            <param id="0" name="Variable">TxtMatch</param>
                            <param id="1" name="Value">RegexMatchAt(ActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)</param>
                        </action>
                        <action id="0" name="Set text" sid="673828113392860" type="debug">
                            <param id="0" name="Text">TxtMatch</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Increment the Story Stage by 1</comment>
                        <event-block any="1" sid="249764273469868">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="287694409360967" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Inspect&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="795308177334650" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Investigate&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="737204656293346" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Scout&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="528767368809186" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Collect&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="619204800884150" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Analyze&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="871221095166884" type="Function">
                                    <param id="0" name="Name">&quot;ComputePrblty&quot;</param>
                                    <param id="1" name="Parameter {n}">AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;S&quot;)){###}Blcks.Stg{###}1</param>
                                </action>
                                <action id="0" name="Call function" sid="436695423586845" type="Function">
                                    <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                                    <param id="1" name="Parameter {n}">Blcks.Type{###}Blcks.Stg</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Increment the Story Stage by 2</comment>
                        <event-block any="1" sid="237268199694870">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="684972967956418" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Search&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="812177590027319" type="Function">
                                    <param id="0" name="Name">&quot;ComputePrblty&quot;</param>
                                    <param id="1" name="Parameter {n}">AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;S&quot;)){###}Blcks.Stg{###}2</param>
                                </action>
                                <action id="0" name="Call function" sid="524232516156462" type="Function">
                                    <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                                    <param id="1" name="Parameter {n}">Blcks.Type{###}Blcks.Stg</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Break the Ice</comment>
                        <event-block disabled="1" sid="315967699025926">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="592897316371033" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Dig&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block disabled="1" sid="275595427801246">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="540612367975663" type="System">
                                            <param id="0" name="First value">int(random(AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;S&quot;))))</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Second value">100</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="239167543357623" type="Blcks">
                                            <param id="0" name="Instance variable">Stg</param>
                                            <param id="1" name="Value">str(int(Blcks.Stg) + 1)&amp;&quot;S&quot;</param>
                                        </action>
                                        <action id="0" name="Call function" sid="285339390486713" type="Function">
                                            <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                                            <param id="1" name="Parameter {n}">Blcks.Type{###}Blcks.Stg</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="182375639478592" type="Blcks" />
                                        <action id="-12" name="Set group active" sid="507424617858454" type="System">
                                            <param id="0" name="Group name">&quot;Player Controls&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block disabled="1" sid="803798540874318">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="822309182924339" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="636302139078954" type="Blcks">
                                            <param id="0" name="Instance variable">Stg</param>
                                            <param id="1" name="Value">str(int(Blcks.Stg) + 1)&amp;&quot;F&quot;</param>
                                        </action>
                                        <action id="0" name="Call function" sid="485718426294140" type="Function">
                                            <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                                            <param id="1" name="Parameter {n}">Blcks.Type{###}Blcks.Stg</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block disabled="1" sid="812739083966139">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="126351848200702" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Mine&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block disabled="1" sid="534089013459246">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="706207051034932" type="System">
                                            <param id="0" name="First value">int(random(AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;S&quot;))))</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Second value">100</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="160275666350893" type="Blcks">
                                            <param id="0" name="Instance variable">Stg</param>
                                            <param id="1" name="Value">str(int(Blcks.Stg) + 2)&amp;&quot;S&quot;</param>
                                        </action>
                                        <action id="0" name="Call function" sid="700578424860037" type="Function">
                                            <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                                            <param id="1" name="Parameter {n}">Blcks.Type{###}Blcks.Stg</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="366451120412736" type="Blcks" />
                                        <action id="-12" name="Set group active" sid="308840568830686" type="System">
                                            <param id="0" name="Group name">&quot;Player Controls&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block disabled="1" sid="894681618293675">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="377419354130892" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="520389092559296" type="Blcks">
                                            <param id="0" name="Instance variable">Stg</param>
                                            <param id="1" name="Value">str(int(Blcks.Stg) + 2)&amp;&quot;F&quot;</param>
                                        </action>
                                        <action id="0" name="Call function" sid="805653901184643" type="Function">
                                            <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                                            <param id="1" name="Parameter {n}">Blcks.Type{###}Blcks.Stg</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Leave the Story Stage</comment>
                        <event-block any="1" sid="185526440403815">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="240459800096027" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Leave&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="349251610103421" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Abandon&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="794696885814409" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Flee&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="216289529762187" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Set Sail&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="605155228684725" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Done&quot;</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="172613289583182" type="System">
                                    <param id="0" name="First value">TxtMatch</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Ignore&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="600661635187316" type="Function">
                                    <param id="0" name="Name">&quot;CloseStg&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="-12" name="Set group active" sid="242719098737668" type="System">
                                    <param id="0" name="Group name">&quot;Player Controls&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>On Action Button Hover Update Probability</comment>
                <event-block sid="675246277486125">
                    <conditions>
                        <condition id="7" name="Cursor is over object" sid="110119938516604" type="Mouse">
                            <param id="0" name="Object">ActnBtn</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="709519676864515">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="805520822118489" type="SuccessFailNum">
                                    <param id="0" name="Unique ID">51</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="222278957329980" type="SuccessFailNum">
                                    <param id="0" name="Text">AryStgRes.At(AryStgRes.IndexOf(RegexMatchAt(ActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;S&quot;))&amp;&quot;%&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="205683695018378">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="862185900315157" type="SuccessFailNum">
                                    <param id="0" name="Unique ID">52</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="667860090912839" type="SuccessFailNum">
                                    <param id="0" name="Text">AryStgRes.At(AryStgRes.IndexOf(RegexMatchAt(ActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;F&quot;))&amp;&quot;%&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Extra Actions Button Behaviour</comment>
                <variable constant="0" name="usedIdle" sid="172357514712069" static="1" type="number">0</variable>
                <event-block sid="298713395137224">
                    <conditions>
                        <condition id="0" name="On clicked" sid="250449050991404" type="ExtraActnBtn" />
                        <condition id="-9" inverted="1" name="Is visible" sid="897071989157922" type="ActnBg" />
                    </conditions>
                    <actions>
                        <action id="8" name="Set unfocused" sid="439764591015049" type="ExtraActnBtn" />
                    </actions>
                    <sub-events>
                        <event-block sid="529643098053308">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="962222825495890" type="System">
                                    <param id="0" name="First value">RegexMatchAt(ExtraActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Idle&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Add to" sid="180452692993659" type="System">
                                    <param id="0" name="Variable">usedIdle</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="386720491313926" type="Boat">
                                    <param id="0" name="Instance variable">Morale</param>
                                    <param id="1" name="Value">usedIdle</param>
                                </action>
                                <action id="0" name="Call function" sid="231678839766552" type="Function">
                                    <param id="0" name="Name">&quot;ActnPnts&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="665330724042103" type="Function">
                                    <param id="0" name="Name">&quot;StatsUpdate&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="942478917611338">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="255595011650700" type="StatsTxt">
                                            <param id="0" name="Unique ID">61</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="841228105222550" type="System">
                                            <param id="0" name="Object to create">FdbckTxt</param>
                                            <param id="1" name="Layer">StatsTxt.LayerName</param>
                                            <param id="2" name="X">StatsTxt.X</param>
                                            <param id="3" name="Y">StatsTxt.Y</param>
                                        </action>
                                        <action id="0" name="Set text" sid="247432085113447" type="FdbckTxt">
                                            <param id="0" name="Text">&quot;-&quot;&amp;usedIdle&amp;&quot; Morale&quot;</param>
                                        </action>
                                        <action id="4" name="Set font color" sid="416468462844284" type="FdbckTxt">
                                            <param id="0" name="Color">rgb(255, 0, 0)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="243734414369962">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="129070426118185" type="System">
                                    <param id="0" name="First value">RegexMatchAt(ExtraActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Stay Warm&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="174255441170775" type="System">
                                    <param id="0" name="Variable">usedIdle</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="859657599404247" type="Boat">
                                    <param id="0" name="Instance variable">Fuel</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Call function" sid="116696110425298" type="Function">
                                    <param id="0" name="Name">&quot;ActnPnts&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="689684105613758" type="Function">
                                    <param id="0" name="Name">&quot;StatsUpdate&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="779974100939756">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="485917008655263" type="StatsTxt">
                                            <param id="0" name="Unique ID">59</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="382917076772716" type="System">
                                            <param id="0" name="Object to create">FdbckTxt</param>
                                            <param id="1" name="Layer">StatsTxt.LayerName</param>
                                            <param id="2" name="X">StatsTxt.X</param>
                                            <param id="3" name="Y">StatsTxt.Y</param>
                                        </action>
                                        <action id="0" name="Set text" sid="749884730903165" type="FdbckTxt">
                                            <param id="0" name="Text">&quot;-1 Fuel&quot;</param>
                                        </action>
                                        <action id="4" name="Set font color" sid="756835334461448" type="FdbckTxt">
                                            <param id="0" name="Color">rgb(255, 0, 0)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="276569121549820">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="689089369964587" type="System">
                                    <param id="0" name="First value">RegexMatchAt(ExtraActnBtn.AsJSON, &quot;text&quot;&quot;:&quot;&quot;+([^}&quot;&quot;]+)&quot;, &quot;i&quot;, 1)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">&quot;Convert Supplies&quot;</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="905242775461972" type="Boat">
                                    <param id="0" name="Instance variable">Supplies</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="132203807917054" type="Boat">
                                    <param id="0" name="Instance variable">Supplies</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-11" name="Add to" sid="881985724359657" type="Boat">
                                    <param id="0" name="Instance variable">Fuel</param>
                                    <param id="1" name="Value">3</param>
                                </action>
                                <action id="0" name="Call function" sid="933140398129945" type="Function">
                                    <param id="0" name="Name">&quot;StatsUpdate&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="110914150758673">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="470365267797943" type="StatsTxt">
                                            <param id="0" name="Unique ID">59</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="568824425928387" type="System">
                                            <param id="0" name="Object to create">FdbckTxt</param>
                                            <param id="1" name="Layer">StatsTxt.LayerName</param>
                                            <param id="2" name="X">StatsTxt.X</param>
                                            <param id="3" name="Y">StatsTxt.Y</param>
                                        </action>
                                        <action id="0" name="Set text" sid="697794904261961" type="FdbckTxt">
                                            <param id="0" name="Text">&quot;+3 Fuel&quot;</param>
                                        </action>
                                        <action id="4" name="Set font color" sid="803408275671849" type="FdbckTxt">
                                            <param id="0" name="Color">rgb(0, 255, 0)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="472486869568607">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="555096991973617" type="StatsTxt">
                                            <param id="0" name="Unique ID">60</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="901501371739845" type="System">
                                            <param id="0" name="Object to create">FdbckTxt</param>
                                            <param id="1" name="Layer">StatsTxt.LayerName</param>
                                            <param id="2" name="X">StatsTxt.X</param>
                                            <param id="3" name="Y">StatsTxt.Y</param>
                                        </action>
                                        <action id="0" name="Set text" sid="940998033363646" type="FdbckTxt">
                                            <param id="0" name="Text">&quot;-1 Supply&quot;</param>
                                        </action>
                                        <action id="4" name="Set font color" sid="239097678121184" type="FdbckTxt">
                                            <param id="0" name="Color">rgb(255, 0, 0)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="858259632421571" title="UI Update Group">
            <sub-events>
                <comment>Get IndexOf Y&#x0D;&#x0A;Function.Parm(0) = Array.yIdx&#x0D;&#x0A;Function.Parm(1) = Text to Search for</comment>
                <event-block sid="989931323163882">
                    <conditions>
                        <condition id="0" name="On function" sid="631447553844002" type="Function">
                            <param id="0" name="Name">&quot;YIndex&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set return value" sid="929927454277930" type="Function">
                            <param id="0" name="Value">int(left(RegexMatchAt(Function.Param(0), &quot;[\d]&quot;&amp;Function.Param(1), &quot;i&quot;, 0), 1))</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Compute Probability&#x0D;&#x0A;Function.Parm(0) = Btn Success Probability&#x0D;&#x0A;Function.Parm(1) = Blck Stage Level&#x0D;&#x0A;Function.Parm(2) = Stage Increment</comment>
                <variable constant="0" name="var1" sid="610719861103736" static="1" type="number">0</variable>
                <variable constant="0" name="var2" sid="193257718350452" static="1" type="number">0</variable>
                <event-block sid="890973213088286">
                    <conditions>
                        <condition id="0" name="On function" sid="463550508094295" type="Function">
                            <param id="0" name="Name">&quot;ComputePrblty&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="636330897648195" type="Blcks">
                            <param id="0" name="Unique ID">BlcksUID</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="347839684940429">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="128203295618974" type="System">
                                    <param id="0" name="First value">int(random(100))</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="131405695645408" type="Blcks">
                                    <param id="0" name="Instance variable">Stg</param>
                                    <param id="1" name="Value">str(int(Function.Param(1)) + Function.Param(2))&amp;&quot;S&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="893652291792097" type="System">
                                    <param id="0" name="Variable">var1</param>
                                    <param id="1" name="Value">int(random(3, int(tokenat(AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;Gain&quot;)), 0, &quot;|&quot;))))</param>
                                </action>
                                <action id="-9" name="Set value" sid="309739851575010" type="System">
                                    <param id="0" name="Variable">var2</param>
                                    <param id="1" name="Value">int(random(1, int(tokenat(AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;Gain&quot;)), 1, &quot;|&quot;))))</param>
                                </action>
                                <action id="0" name="Call function" sid="401925015764940" type="Function">
                                    <param id="0" name="Name">&quot;Gain&quot;</param>
                                    <param id="1" name="Parameter {n}">var1{###}var2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="729742681129904">
                            <conditions>
                                <condition id="-22" name="Else" sid="689212153687059" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="207421393961121" type="Blcks">
                                    <param id="0" name="Instance variable">Stg</param>
                                    <param id="1" name="Value">str(int(Function.Param(1)) + Function.Param(2))&amp;&quot;F&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="443504843620916" type="System">
                                    <param id="0" name="Variable">var1</param>
                                    <param id="1" name="Value">int(random(-1, int(tokenat(AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;Lose&quot;)), 0, &quot;|&quot;))))</param>
                                </action>
                                <action id="-9" name="Set value" sid="652315106235716" type="System">
                                    <param id="0" name="Variable">var2</param>
                                    <param id="1" name="Value">int(random(-1, int(tokenat(AryStgRes.At(AryStgRes.IndexOf(TxtMatch), Function.Call(&quot;YIndex&quot;, AryStgRes.yIdx, &quot;Lose&quot;)), 1, &quot;|&quot;))))</param>
                                </action>
                                <action id="0" name="Call function" sid="997248756335584" type="Function">
                                    <param id="0" name="Name">&quot;Lose&quot;</param>
                                    <param id="1" name="Parameter {n}">var1{###}var2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>On Clicked Block Update Stage</comment>
                <event-block sid="123273296147793">
                    <conditions>
                        <condition id="0" name="On function" sid="692087530753126" type="Function">
                            <param id="0" name="Name">&quot;ClickedOnBlock&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="541981359818148" type="ActnBg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="524690312943458" type="ReadEventTitle">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="647149722771408" type="ReadEventTxt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="171637659763944" type="ReadEventImg">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="2" name="Set visible" sid="573552563632813" type="ActnBtn">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="640642257988834" type="ActnResTxt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="422604798818540" type="SuccessFailTxt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="298490808332037" type="SuccessFailNum">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="952313683744158" type="TbgFail">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="206251952181081" type="TbgSuccess">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="0" name="Set text" sid="339554660601615" type="ReadEventTitle">
                            <param id="0" name="Text">AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;Title&quot;))&amp;newline</param>
                        </action>
                        <action id="0" name="Set text" sid="166607687018436" type="ReadEventTxt">
                            <param id="0" name="Text">newline&amp;DxnryRdTxt.Get(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;Text&quot;)))</param>
                        </action>
                        <action id="4" name="Set animation" sid="289605566094303" type="ReadEventImg">
                            <param id="0" name="Animation">AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;Image&quot;))</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="289392683144954">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="572924643465350" type="ActnBtn">
                                    <param id="0" name="Unique ID">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="366271760930693" type="ActnBtn">
                                    <param id="0" name="Text">tokenat(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;ActnBtns&quot;)), 0, &quot;|&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="129883139591745">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="513283044894256" type="ActnBtn">
                                    <param id="0" name="Unique ID">34</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="990529638603710" type="ActnBtn">
                                    <param id="0" name="Text">tokenat(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;ActnBtns&quot;)), 1, &quot;|&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="866750674609384">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="193152768396684" type="ActnBtn">
                                    <param id="0" name="Unique ID">35</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="813754624042409" type="ActnBtn">
                                    <param id="0" name="Text">tokenat(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;ActnBtns&quot;)), 2, &quot;|&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="838063374493621">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="231654198284823" type="ActnResTxt">
                                    <param id="0" name="Unique ID">38</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="323993853075525" type="ActnResTxt">
                                    <param id="0" name="Text">DxnryRdTxt.Get(tokenat(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;ActnBtns&quot;)), 0, &quot;|&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="642327869538336">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="767006707023410" type="ActnResTxt">
                                    <param id="0" name="Unique ID">42</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="669630164789908" type="ActnResTxt">
                                    <param id="0" name="Text">DxnryRdTxt.Get(tokenat(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;ActnBtns&quot;)), 1, &quot;|&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="803636704292669">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="913038682613632" type="ActnResTxt">
                                    <param id="0" name="Unique ID">43</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="359086703561163" type="ActnResTxt">
                                    <param id="0" name="Text">DxnryRdTxt.Get(tokenat(AryStgData.At(AryStgData.IndexOf(Function.Param(0)&amp;&quot;_&quot;&amp;Function.Param(1)), Function.Call(&quot;YIndex&quot;, AryStgData.yIdx, &quot;ActnBtns&quot;)), 2, &quot;|&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="716058763589259">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="831346430205357" type="ReadEventTxt">
                                    <param id="0" name="Text">RegexReplace(ReadEventTxt.Text, &quot;\d&quot;, &quot;i&quot;, var1)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="747416753463517">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="760446807054290" type="ReadEventTxt">
                                    <param id="0" name="Text">RegexReplace(ReadEventTxt.Text, &quot;\w\d&quot;, &quot;i&quot;, var2)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Close the Stage</comment>
                <event-block sid="553596314781196">
                    <conditions>
                        <condition id="0" name="On function" sid="993833887728026" type="Function">
                            <param id="0" name="Name">&quot;CloseStg&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="770763989903813" type="ActnBg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="367066637179634" type="ReadEventTitle">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="375427446799712" type="ReadEventTxt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="927433882692864" type="ReadEventImg">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="2" name="Set visible" sid="861597622320956" type="ActnBtn">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="964334910828232" type="ActnResTxt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="345709278205190" type="SuccessFailTxt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="246467547086797" type="SuccessFailNum">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="195576127496499" type="TbgFail">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="256950180094982" type="TbgSuccess">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
